<!doctype html>

<!--[if lt IE 8]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]-->
	<head>
		<meta charset="utf-8" />
  		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<link rel="dns-prefetch" href="example/static/" />
		<link rel="static-url" href="example/static/" />

		<title>Cypher</title>

		<meta name="description" content="Examples for Cypher jquery plugin." />
		<meta name="author" content="James Deagle" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" id="caboose" href="./example/static/css/style.css" />
	</head>
	<body class="home">
		<div id="container">
			<div id="main" role="main">
				<h1>This is CYPHER</h1>
				<p>Its a flexible jquery pluggin for cycling through bodies of text.</p>

				<a href="./example/demo.html">demo</a>
				<a href="http://github.com/jdeagle/cypher" target="_blank">download</a>
			</div>
		</div>
		<script src="example/static/js/libs/require.js"></script>

		<script>
			require.config({
				baseUrl : "example/static/js",
				paths : {
					"jquery" : "libs/jquery",
					"cypher" : "libs/plugins/jquery/jquery.cypher"
				}
			});

			require(["jquery", "cypher"], function($) {

				var bodyCopy = $("p").text();

				$("h1").cypher('decode', {scheme: "offset"});
				$("p").cypher('decode', {scheme: "offset", animate: "centerOut"}).done(function() {
					pause();
				});

				var pause = function() {
					setTimeout(function () {
						console.log("cycle");
						cycle();
					}, 2000);
				}

				var cycle = function () {
					$("p").cypher('encode', {scheme: "offset", animate: "random"}).done(function () {
							var endText = bodyCopy; //"This is my new message";
							$("p").cypher('decode', {
								endText: endText,
								scheme: "offset",
								animate: "random"
							}).done(pause);
					});
				}
			});

		</script>
	</body>
</html>